{"version":{"pluginId":"default","version":"current","label":"Next","banner":null,"badge":false,"noIndex":false,"className":"docs-version-current","isLast":true,"docsSidebars":{"tutorialSidebar":[{"type":"category","label":"序言","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"PikiwiDB(Pika) 简介","href":"/docs/序言/简介/","docId":"序言/简介/index","unlisted":false},{"type":"link","label":"支持的 Redis 接口与兼容情况","href":"/docs/序言/支持的 Redis 接口与兼容情况/","docId":"序言/支持的 Redis 接口与兼容情况/index","unlisted":false},{"type":"link","label":"FAQ","href":"/docs/序言/FAQ/","docId":"序言/FAQ/index","unlisted":false}],"href":"/docs/序言/"},{"type":"category","label":"使用与运维","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"配置文件说明","href":"/docs/使用与运维/配置文件说明/","docId":"使用与运维/配置文件说明/index","unlisted":false},{"type":"link","label":"page info 信息说明","href":"/docs/使用与运维/page info 信息说明/","docId":"使用与运维/page info 信息说明/index","unlisted":false},{"type":"link","label":"数据目录","href":"/docs/使用与运维/数据目录/","docId":"使用与运维/数据目录/index","unlisted":false},{"type":"link","label":"管理指令","href":"/docs/使用与运维/管理指令/","docId":"使用与运维/管理指令/index","unlisted":false},{"type":"link","label":"差异化命令","href":"/docs/使用与运维/差异化命令/","docId":"使用与运维/差异化命令/index","unlisted":false},{"type":"link","label":"订阅","href":"/docs/使用与运维/订阅/","docId":"使用与运维/订阅/index","unlisted":false},{"type":"link","label":"分布式模式简单教程","href":"/docs/使用与运维/分布式模式简单教程/","docId":"使用与运维/分布式模式简单教程/index","unlisted":false},{"type":"link","label":"自动容灾","href":"/docs/使用与运维/自动容灾/","docId":"使用与运维/自动容灾/index","unlisted":false},{"type":"link","label":"多库版命令","href":"/docs/使用与运维/多库版命令/","docId":"使用与运维/多库版命令/index","unlisted":false},{"type":"link","label":"服务器状态监控","href":"/docs/使用与运维/服务器状态监控/","docId":"使用与运维/服务器状态监控/index","unlisted":false},{"type":"link","label":"分片教程(3.1.2 ‐ 3.3.6)","href":"/docs/使用与运维/分片教程/","docId":"使用与运维/分片教程/index","unlisted":false},{"type":"link","label":"副本一致性（使用文档）","href":"/docs/使用与运维/副本一致性（使用文档）/","docId":"使用与运维/副本一致性（使用文档）/index","unlisted":false},{"type":"link","label":"安装使用","href":"/docs/使用与运维/安装使用/","docId":"使用与运维/安装使用/index","unlisted":false},{"type":"link","label":"副本一致性（设计文档）","href":"/docs/使用与运维/副本一致性（设计文档）/","docId":"使用与运维/副本一致性（设计文档）/index","unlisted":false},{"type":"link","label":"Pika 最佳实践","href":"/docs/使用与运维/Pika 最佳实践/","docId":"使用与运维/Pika 最佳实践/index","unlisted":false}],"href":"/docs/使用与运维/"},{"type":"category","label":"性能与优化","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"3.2.x 性能","href":"/docs/性能与优化/3.2.x 性能/","docId":"性能与优化/3.2.x 性能/index","unlisted":false},{"type":"link","label":"Pika 内存使用","href":"/docs/性能与优化/Pika 内存使用/","docId":"性能与优化/Pika 内存使用/index","unlisted":false},{"type":"link","label":"Redis 与 Pika scan 性能对比","href":"/docs/性能与优化/Redis 与 Pika scan 性能对比/","docId":"性能与优化/Redis 与 Pika scan 性能对比/index","unlisted":false},{"type":"link","label":"Pika 3.5 参数优化手册","href":"/docs/性能与优化/Pika 3.5 参数优化手册/","docId":"性能与优化/Pika 3.5 参数优化手册/index","unlisted":false},{"type":"category","label":"Pika 优化案例","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"喜马拉雅 Redis 与 Pika 缓存使用军规","href":"/docs/性能与优化/Pika 优化案例/喜马拉雅 Redis 与 Pika 缓存使用军规/","docId":"性能与优化/Pika 优化案例/喜马拉雅 Redis 与 Pika 缓存使用军规/index","unlisted":false},{"type":"link","label":"调整 max-write-buffer-size 优化 pika 性能10倍的案例","href":"/docs/性能与优化/Pika 优化案例/调整 max-write-buffer-size 优化 pika 性能10倍的案例/","docId":"性能与优化/Pika 优化案例/调整 max-write-buffer-size 优化 pika 性能10倍的案例/index","unlisted":false}],"href":"/docs/性能与优化/Pika 优化案例/"}],"href":"/docs/性能与优化/"},{"type":"category","label":"设计与实现","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"整体技术架构","href":"/docs/设计与实现/整体技术架构/","docId":"设计与实现/整体技术架构/index","unlisted":false},{"type":"link","label":"线程模型","href":"/docs/设计与实现/线程模型/","docId":"设计与实现/线程模型/index","unlisted":false},{"type":"link","label":"锁的应用","href":"/docs/设计与实现/锁的应用/","docId":"设计与实现/锁的应用/index","unlisted":false},{"type":"link","label":"全同步","href":"/docs/设计与实现/全同步/","docId":"设计与实现/全同步/index","unlisted":false},{"type":"link","label":"增量同步","href":"/docs/设计与实现/增量同步/","docId":"设计与实现/增量同步/index","unlisted":false},{"type":"link","label":"主从同步","href":"/docs/设计与实现/主从同步/","docId":"设计与实现/主从同步/index","unlisted":false},{"type":"link","label":"副本一致性","href":"/docs/设计与实现/副本一致性/","docId":"设计与实现/副本一致性/index","unlisted":false},{"type":"link","label":"Pika 与 Codis","href":"/docs/设计与实现/Pika 与 Codis/","docId":"设计与实现/Pika 与 Codis/index","unlisted":false},{"type":"link","label":"快照式备份","href":"/docs/设计与实现/快照式备份/","docId":"设计与实现/快照式备份/index","unlisted":false},{"type":"link","label":"NoSQL 原理概述","href":"/docs/设计与实现/NoSQL 原理概述/","docId":"设计与实现/NoSQL 原理概述/index","unlisted":false},{"type":"link","label":"旧存储结构","href":"/docs/设计与实现/旧存储结构/","docId":"设计与实现/旧存储结构/index","unlisted":false},{"type":"link","label":"新存储结构","href":"/docs/设计与实现/新存储结构/","docId":"设计与实现/新存储结构/index","unlisted":false},{"type":"link","label":"新存储结构：详细解析","href":"/docs/设计与实现/新存储方案：详细解析/","docId":"设计与实现/新存储方案：详细解析/index","unlisted":false},{"type":"category","label":"Pika 源码学习笔记","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"通信和线程模型","href":"/docs/设计与实现/Pika 源码学习笔记/通信和线程模型/","docId":"设计与实现/Pika 源码学习笔记/通信和线程模型/index","unlisted":false},{"type":"link","label":"Pubsub 机制","href":"/docs/设计与实现/Pika 源码学习笔记/PubSub 机制/","docId":"设计与实现/Pika 源码学习笔记/PubSub 机制/index","unlisted":false},{"type":"link","label":"Pika 的命令执行框架","href":"/docs/设计与实现/Pika 源码学习笔记/Pika 的命令执行框架/","docId":"设计与实现/Pika 源码学习笔记/Pika 的命令执行框架/index","unlisted":false},{"type":"link","label":"Pika 和 RockSDB 的对接","href":"/docs/设计与实现/Pika 源码学习笔记/Pika 和 RockSDB 的对接/","docId":"设计与实现/Pika 源码学习笔记/Pika 和 RockSDB 的对接/index","unlisted":false}],"href":"/docs/设计与实现/Pika 源码学习笔记/"},{"type":"category","label":"Pika 传火计划","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Pika 线程模型简介","href":"/docs/设计与实现/Pika 传火计划/线程模型/","docId":"设计与实现/Pika 传火计划/线程模型/index","unlisted":false},{"type":"link","label":"Pika 读写流程简介","href":"/docs/设计与实现/Pika 传火计划/读写流程/","docId":"设计与实现/Pika 传火计划/读写流程/index","unlisted":false},{"type":"link","label":"Pika 主从同比","href":"/docs/设计与实现/Pika 传火计划/主从同步/","docId":"设计与实现/Pika 传火计划/主从同步/index","unlisted":false}],"href":"/docs/设计与实现/Pika 传火计划/"}],"href":"/docs/设计与实现/"},{"type":"category","label":"编码规范","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"编码规范","href":"/docs/开发文档/编码规范/","docId":"开发文档/编码规范/index","unlisted":false},{"type":"link","label":"c++ coding style","href":"/docs/开发文档/coding-style/","docId":"开发文档/coding-style/index","unlisted":false}],"href":"/docs/开发文档/"}]},"docs":{"使用与运维/index":{"id":"使用与运维/index","title":"使用与运维","description":"","sidebar":"tutorialSidebar"},"使用与运维/page info 信息说明/index":{"id":"使用与运维/page info 信息说明/index","title":"page info 信息说明","description":"执行INFO命令","sidebar":"tutorialSidebar"},"使用与运维/Pika 最佳实践/index":{"id":"使用与运维/Pika 最佳实践/index","title":"Pika 最佳实践","description":"我们根据360内部的pika使用经验及社区用户的问题反馈，整理了如下文档并会不断更新","sidebar":"tutorialSidebar"},"使用与运维/分布式模式简单教程/index":{"id":"使用与运维/分布式模式简单教程/index","title":"分布式模式简单教程","description":"关于sharding mode，pika底层提供slot 的概念。Pika将key进行哈希取模之后散列到各个slot当中处理。sharding mode 根据线上的具体情况可以应用于单个pika，也可以应用到多个pika组成的pika cluster。这个tutorial主要介绍开启sharding mode 需要了解的一些概念，以及需要调整的一些配置参数。","sidebar":"tutorialSidebar"},"使用与运维/分片教程/index":{"id":"使用与运维/分片教程/index","title":"分片教程(3.1.2 ‐ 3.3.6)","description":"Pika自版本3.1.2起开始对分片做了一系列支持，为此我们为分片模式添加了一系列的命令.","sidebar":"tutorialSidebar"},"使用与运维/副本一致性（使用文档）/index":{"id":"使用与运维/副本一致性（使用文档）/index","title":"副本一致性（使用文档）","description":"简介","sidebar":"tutorialSidebar"},"使用与运维/副本一致性（设计文档）/index":{"id":"使用与运维/副本一致性（设计文档）/index","title":"副本一致性（设计文档）","description":"目前线程模型","sidebar":"tutorialSidebar"},"使用与运维/多库版命令/index":{"id":"使用与运维/多库版命令/index","title":"多库版命令","description":"Pika自版本3.1.0起开始支持多db，为了兼容多db部分命令、配置参数发生了变化，具体变化如下：","sidebar":"tutorialSidebar"},"使用与运维/安装使用/index":{"id":"使用与运维/安装使用/index","title":"安装使用","description":"快速试用","sidebar":"tutorialSidebar"},"使用与运维/差异化命令/index":{"id":"使用与运维/差异化命令/index","title":"差异化命令","description":"config [get | set | rewrite]","sidebar":"tutorialSidebar"},"使用与运维/数据目录/index":{"id":"使用与运维/数据目录/index","title":"数据目录","description":"db目录","sidebar":"tutorialSidebar"},"使用与运维/服务器状态监控/index":{"id":"使用与运维/服务器状态监控/index","title":"服务器状态监控","description":"在pika的使用中，也为用户提供了丰富的info展示，用于监控服务器的运行状态。","sidebar":"tutorialSidebar"},"使用与运维/管理指令/index":{"id":"使用与运维/管理指令/index","title":"管理指令","description":"client kill all","sidebar":"tutorialSidebar"},"使用与运维/自动容灾/index":{"id":"使用与运维/自动容灾/index","title":"自动容灾","description":"pika能够配合Redis-sentinel(哨兵)实现自动容灾切主, 使用方式与redis完全一致","sidebar":"tutorialSidebar"},"使用与运维/订阅/index":{"id":"使用与运维/订阅/index","title":"订阅","description":"可用版本： >= 2.3.0","sidebar":"tutorialSidebar"},"使用与运维/配置文件说明/index":{"id":"使用与运维/配置文件说明/index","title":"配置文件说明","description":"","sidebar":"tutorialSidebar"},"序言/FAQ/index":{"id":"序言/FAQ/index","title":"FAQ","description":"1 编译安装","sidebar":"tutorialSidebar"},"序言/index":{"id":"序言/index","title":"序言","description":"欢迎来到 PikiwiDB(Pika) 的世界。接下来的篇章旨在于帮助你建立对 PikiwiDB 数据库的基本了解，你将会阅读到：","sidebar":"tutorialSidebar"},"序言/支持的 Redis 接口与兼容情况/index":{"id":"序言/支持的 Redis 接口与兼容情况/index","title":"支持的 Redis 接口与兼容情况","description":"pika支持redis五种类型（分别为string、hash、list、set、zset）的接口，先列出其对redis的五种数据结构兼容统计。","sidebar":"tutorialSidebar"},"序言/简介/index":{"id":"序言/简介/index","title":"PikiwiDB(Pika) 简介","description":"PikiwiDB(Pika)-Logo-Logo.png)","sidebar":"tutorialSidebar"},"开发文档/coding-style/index":{"id":"开发文档/coding-style/index","title":"c++ coding style","description":"header file","sidebar":"tutorialSidebar"},"开发文档/index":{"id":"开发文档/index","title":"编码规范","description":"","sidebar":"tutorialSidebar"},"开发文档/编码规范/index":{"id":"开发文档/编码规范/index","title":"编码规范","description":"c++ coding style","sidebar":"tutorialSidebar"},"性能与优化/3.2.x 性能/index":{"id":"性能与优化/3.2.x 性能/index","title":"3.2.x 性能","description":"Performance：","sidebar":"tutorialSidebar"},"性能与优化/index":{"id":"性能与优化/index","title":"性能与优化","description":"","sidebar":"tutorialSidebar"},"性能与优化/Pika 3.5 参数优化手册/index":{"id":"性能与优化/Pika 3.5 参数优化手册/index","title":"Pika 3.5 参数优化手册","description":"1970","sidebar":"tutorialSidebar"},"性能与优化/Pika 优化案例/index":{"id":"性能与优化/Pika 优化案例/index","title":"Pika 优化案例","description":"","sidebar":"tutorialSidebar"},"性能与优化/Pika 优化案例/喜马拉雅 Redis 与 Pika 缓存使用军规/index":{"id":"性能与优化/Pika 优化案例/喜马拉雅 Redis 与 Pika 缓存使用军规/index","title":"喜马拉雅 Redis 与 Pika 缓存使用军规","description":"宣言：缓存不是万金油，更不是垃圾桶！！！","sidebar":"tutorialSidebar"},"性能与优化/Pika 优化案例/调整 max-write-buffer-size 优化 pika 性能10倍的案例/index":{"id":"性能与优化/Pika 优化案例/调整 max-write-buffer-size 优化 pika 性能10倍的案例/index","title":"调整 max-write-buffer-size 优化 pika 性能10倍的案例","description":"现居珠海，先后担任专职 Oracle 和 MySQL DBA，现在主要负责 MySQL、mongoDB 和 Redis 维护工作。","sidebar":"tutorialSidebar"},"性能与优化/Pika 内存使用/index":{"id":"性能与优化/Pika 内存使用/index","title":"Pika 内存使用","description":"Pika内存占用","sidebar":"tutorialSidebar"},"性能与优化/Redis 与 Pika scan 性能对比/index":{"id":"性能与优化/Redis 与 Pika scan 性能对比/index","title":"Redis 与 Pika scan 性能对比","description":"Redis 是后端常用的键值数据库。Pika 是 360 出品的一款与 Redis 协议几乎兼容的数据库。与 Redis 不同的是，Pika 基于硬盘，使用 RocksDB 作为引擎，从容量上来说，比基于内存的 Redis 大了不少，而且在性能上也能满足一般需求。","sidebar":"tutorialSidebar"},"设计与实现/index":{"id":"设计与实现/index","title":"设计与实现","description":"","sidebar":"tutorialSidebar"},"设计与实现/NoSQL 原理概述/index":{"id":"设计与实现/NoSQL 原理概述/index","title":"NoSQL 原理概述","description":"pika 设计","sidebar":"tutorialSidebar"},"设计与实现/Pika 与 Codis/index":{"id":"设计与实现/Pika 与 Codis/index","title":"Pika 与 Codis","description":"背景","sidebar":"tutorialSidebar"},"设计与实现/Pika 传火计划/index":{"id":"设计与实现/Pika 传火计划/index","title":"Pika 传火计划","description":"为方便刚接触Pika的同学能够更快的上手提交第一个Pika PR。基于v3.3.4代码，从代码层面对Pika进行了全方面的梳理。这个想法叫传火计划，希望Pika星星之火可以燎原。","sidebar":"tutorialSidebar"},"设计与实现/Pika 传火计划/主从同步/index":{"id":"设计与实现/Pika 传火计划/主从同步/index","title":"Pika 主从同比","description":"alt text","sidebar":"tutorialSidebar"},"设计与实现/Pika 传火计划/线程模型/index":{"id":"设计与实现/Pika 传火计划/线程模型/index","title":"Pika 线程模型简介","description":"alt text","sidebar":"tutorialSidebar"},"设计与实现/Pika 传火计划/读写流程/index":{"id":"设计与实现/Pika 传火计划/读写流程/index","title":"Pika 读写流程简介","description":"alt text","sidebar":"tutorialSidebar"},"设计与实现/Pika 源码学习笔记/index":{"id":"设计与实现/Pika 源码学习笔记/index","title":"Pika 源码学习笔记","description":"","sidebar":"tutorialSidebar"},"设计与实现/Pika 源码学习笔记/Pika 和 RockSDB 的对接/index":{"id":"设计与实现/Pika 源码学习笔记/Pika 和 RockSDB 的对接/index","title":"Pika 和 RockSDB 的对接","description":"在《Pika源码学习--pika的命令执行框架》中我们了解了一个命令的执行流程，也知道了pika使用的是Blackwidow引擎，现在我们来看看pika是怎么和rocksdb对接的，Blackwidow具体怎么处理命令。","sidebar":"tutorialSidebar"},"设计与实现/Pika 源码学习笔记/Pika 的命令执行框架/index":{"id":"设计与实现/Pika 源码学习笔记/Pika 的命令执行框架/index","title":"Pika 的命令执行框架","description":"今天我们一起来看下pika收到一个命令后，是怎么处理这个命令的。","sidebar":"tutorialSidebar"},"设计与实现/Pika 源码学习笔记/PubSub 机制/index":{"id":"设计与实现/Pika 源码学习笔记/PubSub 机制/index","title":"Pubsub 机制","description":"前一篇《Pika源码学习--pika的通信和线程模型》里说到WorkerThread里面有两种处理命令的方式，一种是同步，一种是异步。那什么时候是同步处理，什么时候是异步处理呢？其实","sidebar":"tutorialSidebar"},"设计与实现/Pika 源码学习笔记/通信和线程模型/index":{"id":"设计与实现/Pika 源码学习笔记/通信和线程模型/index","title":"通信和线程模型","description":"pika的线程模型有官方的wiki介绍，这里主要介绍了pika都有哪些线程，这些线程用来干嘛。本篇文章主要涉及监听线程DispatchThread、IO工作线程WorkerThread和工作线程池ThreadPool，结合代码介绍里面实现的一些细节。","sidebar":"tutorialSidebar"},"设计与实现/主从同步/index":{"id":"设计与实现/主从同步/index","title":"主从同步","description":"pika主从同步","sidebar":"tutorialSidebar"},"设计与实现/全同步/index":{"id":"设计与实现/全同步/index","title":"全同步","description":"背景","sidebar":"tutorialSidebar"},"设计与实现/副本一致性/index":{"id":"设计与实现/副本一致性/index","title":"副本一致性","description":"目前线程模型","sidebar":"tutorialSidebar"},"设计与实现/增量同步/index":{"id":"设计与实现/增量同步/index","title":"增量同步","description":"背景","sidebar":"tutorialSidebar"},"设计与实现/快照式备份/index":{"id":"设计与实现/快照式备份/index","title":"快照式备份","description":"原理","sidebar":"tutorialSidebar"},"设计与实现/整体技术架构/index":{"id":"设计与实现/整体技术架构/index","title":"整体技术架构","description":"概述","sidebar":"tutorialSidebar"},"设计与实现/新存储方案：详细解析/index":{"id":"设计与实现/新存储方案：详细解析/index","title":"新存储结构：详细解析","description":"整体架构","sidebar":"tutorialSidebar"},"设计与实现/新存储结构/index":{"id":"设计与实现/新存储结构/index","title":"新存储结构","description":"整体架构","sidebar":"tutorialSidebar"},"设计与实现/旧存储结构/index":{"id":"设计与实现/旧存储结构/index","title":"旧存储结构","description":"Blackwidow 本质上是基于 rocksdb 的封装，使本身只支持 kv 存储的 rocksdb 能够支持多种数据结构, 目前 Blackwidow 支持五种数据结构的存储：String 结构(实际上就是存储 key, value), Hash 结构，List 结构，Set 结构和 ZSet 结构， 因为 Rocksdb 的存储方式只有 kv 一种， 所以上述五种数据结构最终都要落盘到 Rocksdb 的 kv 存储方式上，下面我们展示 Blackwidow 和 rocksdb 的关系并且说明我们是如何用 kv 来模拟多数据结构的。","sidebar":"tutorialSidebar"},"设计与实现/线程模型/index":{"id":"设计与实现/线程模型/index","title":"线程模型","description":"pika使用的是多线程模型，使用多个工作线程来进行读写操作，由底层blackwidow引擎来保证线程安全，线程分为12种：","sidebar":"tutorialSidebar"},"设计与实现/锁的应用/index":{"id":"设计与实现/锁的应用/index","title":"锁的应用","description":"pika作为类redis的存储系统，为了弥补在性能上的不足，在整个系统中大量使用多线程的结构，涉及到多线程编程，势必需要为线程加锁来保证数据访问的一致性和有效性。其中主要用到了三种锁","sidebar":"tutorialSidebar"}}}}